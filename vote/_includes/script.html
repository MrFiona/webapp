<!-- <script src="assets/js/jquery-2.1.0.min.js"></script> -->
<script src="https://cdn.bootcss.com/jquery/2.1.0/jquery.min.js"></script>
<script src="assets/js/bootstrap.bundle.js"></script>
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/ft-carousel.min.js"></script>
<script language="javascript">
    function delcfm(r) {
        var msg = "您真的确定要投票吗?\n请确认！";
        if(confirm(msg) == true) {
            var test1 = $("#TP" + r).html();
            document.getElementById("TP" + r).innerHTML = test1 * 1 + 1;
        } else {}
    }
</script>
<script type="text/javascript">
    function countTime() {
        //获取当前时间  
        var date = new Date();
        var now = date.getTime();
        //设置截止时间  
        var str = "2019/02/31 23:59:59";
        var endDate = new Date(str);
        var end = endDate.getTime();
        //时间差  
        var leftTime = end - now;
        //定义变量 d,h,m,s保存倒计时的时间  
        var d, h, m, s;
        if(leftTime >= 0) {
            d = Math.floor(leftTime / 1000 / 60 / 60 / 24);
            h = Math.floor(leftTime / 1000 / 60 / 60 % 24);
            m = Math.floor(leftTime / 1000 / 60 % 60);
            s = Math.floor(leftTime / 1000 % 60);
        }
        //将倒计时赋值到div中  
        document.getElementById("_d").innerHTML = d + "天";
        document.getElementById("_h").innerHTML = h + "时";
        document.getElementById("_m").innerHTML = m + "分";
        document.getElementById("_s").innerHTML = s + "秒";
        //递归每秒调用countTime方法，显示动态时间效果  
        setTimeout(countTime, 1000);
    }
</script>
<script src="assets/js/layui.js"></script>
<script>
layui.use(['form', 'upload'],function () {
    var $ = layui.jquery
    var form = layui.form //获取form模块
    ,upload = layui.upload; //获取upload模块

    //自定义验证规则
    form.verify({
        address: function (value) {
         if (value.length < 5) {
            return '个人地址';
         }
        }
    });
    //初始赋值
    form.val('first', {
    'address': '测试地址'
    , 'phone': 11111111111
    , 'name': '小明'
    , 'interest': 3
    , 'like[write]': true
    , 'desc': '投票说明'
    });
    //监听提交
    form.on('submit(*)', function (data) {
        console.log(data)
        alert(JSON.stringify(data.field));
        return false;
    });
  
    upload({
        elem: '#test2'
        ,url: ''
        ,multiple: true
        ,number: 3
        ,size: 1024
        ,before: function(obj){
            obj.preview(function(index, file, result){
                $('#demo2').append('<img src="'+ result +'" alt="'+ file.name +'" class="layui-upload-img">')
            });
        }
        ,done: function(res){
        //上传完毕
        }
        ,allDone: function(obj){
        console.log(obj)
        }
    });

});
</script>