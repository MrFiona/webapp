<!DOCTYPE html>
<html lang="zh">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="Access-Control-Allow-Origin" content="*.ttlsa.com">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <title>欧美城数据分析</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link href="../../static/www/css/bootstrap.min.css" rel="stylesheet">
    <link href="../../static/www/css/font-awesome.min.css" rel="stylesheet">
    <link href="../../static/www/css/main.css" rel="stylesheet">
    <link rel="stylesheet" href="../../static/web/src/css/layui.css" />
    <script src="../../static/web/js/jquery-1.9.1.min.js"></script>
    <style type="text/css">
    </style>
</head>
<body class="fixed-body">
    <div class="page-content">
        <div class="page-header">
            <h1><a name="zonghe">总购票数据分析</a></h1>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <ul class="list-group">
                    <li class="list-group-item">
                        <div class="row">
                            <div class="col-md-7">
                                总票数(张) :<b>1000.00</b>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="col-sm-6">
                <ul class="list-group">
                    <li class="list-group-item">
                        <div class="row">
                            <div class="col-md-7">折后价总额 :<b>4000.90</b></div>
                            <div class="col-md-5"></div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>

        <div style="border:1px solid #dddddd;">
            <div id="main" style="height:350px;"></div>
        </div>

        <table class="layui-hide" id="goupiao" lay-filter="test"></table>

    </div>
    <script src="../../static/www/js/echarts.js"></script>
    <script type="text/javascript">
        require.config({
            paths: {
                echarts: '../../static/www/js'
            }
        });
        require(
            [
                'echarts',
                'echarts/theme/macarons',
                'echarts/chart/bar',
                'echarts/chart/line',
                // 'echarts/chart/map'
            ],
            function (ec) {
                //--- 购票数据图 ---
                var myChart = ec.init(document.getElementById('main'));
                myChart.setOption({
                    title: {
                        text: '购票数据分析',
                        subtext: ''
                    },
                    tooltip : {
                        trigger: 'axis'
                    },
                    legend: {
                        x: 'center',
                        y: 35,
                        itemWidth: 25,
                        itemHeight: 20,
                        itemGap: 30,
                        data: [
                            {
                              name: '海洋世界',
                            //   icon : 'image://http://echarts.baidu.com/doc/asset/img/echarts-logo.png',
                              textStyle:{
                                 color: '#FF7F50'
                              }
                            },
                            {
                              name:'婚博中心',
                              fontSize: 16,
                              textStyle:{
                                 color: '#87cefa'
                              }
                            },
                            {
                              name:'卡丁车馆',
                              textStyle:{
                                  color: '#da70d6'
                              }
                            },
                            {
                              name:'真人CS体验馆',
                              textStyle:{
                                  color: '#32CD32'
                              }
                            },
                            {
                              name:'美食天地',
                              textStyle:{
                                  color: '#6495ED'
                              }
                            },
                            {
                              name:'欧欧之家',
                              textStyle:{
                                  color: '#FF69B4'
                              }
                            },
                            {
                              name:'欧欧主题酒店',
                              textStyle:{
                                  color: '#BA55D3'
                              }
                            }
                        ]
                        // data:['海洋世界', '婚博中心', '卡丁车馆', '真人CS体验馆', '美食天地', '欧欧之家', '欧欧主题酒店'],
                    },
                    xAxis : [
                        {
                            type : 'category',
                            boundaryGap:true,
                            splitLine: {show:false},
                            data : ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月'],
                        }
                    ],
                    yAxis : [
                        {
                            type : 'value',
                            splitArea : {show : true},
                            splitLine: {
                              lineStyle: {
                                type: 'dashed'
                              }
                            }
                        }
                    ],
                    series : [
                        {
                            name:'海洋世界',
                            type:'bar',
                            data:[2, 4, 7, 23, 25, 76, 135, 162, 32, 20, 6, 33],
                        },
                        {
                            name:'婚博中心',
                            type:'bar',
                            data:[2, 4, 7, 23, 25, 76, 135, 162, 32, 20, 6, 33],
                        },
                        {
                            name:'卡丁车馆',
                            type:'bar',
                            data:[7, 8, 10, 30, 45, 24, 35, 41, 22, 26, 16, 19]
                        },
                        {
                            name:'真人CS体验馆',
                            type:'bar',
                            data:[26, 59, 90, 26, 27, 70, 175, 182, 48, 18, 50, 23],
                        },
                        {
                            name:'美食天地',
                            type:'bar',
                            data:[26, 59, 40, 44, 67, 77, 16, 12, 47, 18, 60, 29],
                        },
                        {
                            name:'欧欧之家',
                            type:'bar',
                            data:[23, 59, 80, 24, 117, 47, 26, 33, 50, 20, 67, 42],
                        },
                        {
                            name:'欧欧主题酒店',
                            type:'bar',
                            data:[26, 59, 44, 24, 97, 87, 16, 12, 47, 18, 60, 29],
                        }
                    ]
                });
            }
        );
    </script>
    <script src="../../static/web/src/layui.js" charset="utf-8"></script>
    <script>
        layui.use(['laydate', 'layer', 'form', 'element', 'table'], function () {
            var laydate = layui.laydate
                , layer = layui.layer
                , from = layui.form
                , element = layui.element
                , table = layui.table;

            table.render({
                elem: '#goupiao'
                , height: 525
                , title: '房单'
                , url: '../../json/table/goupiao.json'
                , page: true
                , autoSort: false
                , toolbar: false
                // ,toolbar: '#toolbarDemo'
                , cols: [[
                    { field: 'fx', title: '票ID', width: 150 }
                    , { field: 'msj', title: '票类名称', width: 150 }
                    , { field: 'mff', title: '票数', width: 150 }
                    , { field: 'zyf', title: '金额', width: 150 }
                ]]
            });

            //工具栏事件
            table.on('toolbar(test)', function (obj) {
                var checkStatus = table.checkStatus(obj.config.id);
                switch (obj.event) {
                    case 'add':
                        layer.msg('添加');
                        break;
                    case 'edit':
                        layer.msg('编辑');
                        break;
                    case 'del':
                        layer.msg('删除');
                        break;
                    case 'lf_zhengjia':
                        var data = checkStatus.data;
                        layer.alert(JSON.stringify(data));
                        break;
                };
            });

            //监听单元格编辑
            table.on('edit(test)', function (obj) {
                var value = obj.value //得到修改后的值
                    , data = obj.data //得到所在行所有键值
                    , field = obj.field; //得到字段
                console.log(obj)
            });

            //监听行工具事件
            table.on('tool(test)', function (obj) {
                var data = obj.data;
                //console.log(obj)
                if (obj.event === 'del') {
                    layer.confirm('真的删除行么', function (index) {
                        obj.del();
                        layer.close(index);
                    });
                } else if (obj.event === 'edit') {
                    //页面层-自定义
                    layer.open({
                        type: 1,
                        title: '修改房间信息',
                        area: ['600px', '380px'],
                        content: $('#fangjian_edit'),
                        btn: ['提交', '取消']
                    });
                }
            });

            $('i').on('click', function () {
                var type = $(this).data('type');
                active[type] ? active[type].call(this) : '';
            });
            $('.layui-btn').on('click', function () {
                var type = $(this).data('type');
                active[type] ? active[type].call(this) : '';
            });
        });
    </script>
</body>
</html>