<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<script type="text/javascript" src="layui/layui.all.js"></script>
	<link rel="stylesheet" href="layui/css/layui.css">
	<script type="text/javascript" src="tableSelect.js"></script>
	<title>TableSelect</title>
</head>

<body>
	<form class="layui-form" action="" style="padding:20px;">
		
		<div class="layui-form-item">
			<label class="layui-form-label">多选</label>
			<div class="layui-input-inline">
				<input type="text" name="" placeholder="请输入" autocomplete="off" class="layui-input" id="demo" value="刘晓军,张恒" ts-selected="002,003">
			</div>
			<div class="layui-form-mid layui-word-aux">本地演示数据，分页选中和其他页一样，这不是BUG</div>
		</div>

	</form>
</body>
<script type="text/javascript">
	var form = layui.form;
		form.render();
	var tableSelect = layui.tableSelect;

	tableSelect.render({
		elem: '#demo',
		searchKey: 'my',
		checkedKey: 'id',
		searchPlaceholder: '自定义文字和name',
		table: {
			url: 'table.json',
			cols: [[
				{ type: 'checkbox' },
				{ field: 'id', title: 'ID', width: 100 },
				{ field: 'username', title: '姓名', width: 300 },
				{ field: 'sex', title: '性别', width: 100 }
			]]
		},
		done: function (elem, data) {
			var NEWJSON = []
			layui.each(data.data, function (index, item) {
				NEWJSON.push(item.username)
			})
			elem.val(NEWJSON.join(","))
		}
	})


	tableSelect.render({
		elem: '#demo2',
		checkedKey: 'id',
		table: {
			url: 'table.json',
			cols: [[
				{ type: 'radio' },
				{ field: 'id', title: 'ID' },
				{ field: 'username', title: '姓名' },
				{ field: 'sex', title: '性别' }
			]]
		},
		done: function (elem, data) {
			var NEWJSON = []
			layui.each(data.data, function (index, item) {
				NEWJSON.push(item.username)
			})
			elem.val(NEWJSON.join(","))
		}
	})


</script>

</html>